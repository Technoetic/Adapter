<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²°ì œ ì‹œìŠ¤í…œ - Adapter íŒ¨í„´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 32px;
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .analogy {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.8;
            color: #333;
        }

        .analogy strong {
            color: #667eea;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .panel-title {
            font-size: 20px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
            color: #333;
        }

        .info-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .info-box h3 {
            margin-bottom: 8px;
            font-size: 16px;
            color: #333;
        }

        .info-box p {
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .code-block {
            background: #2d2d44;
            color: #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.6;
        }

        .payment-section {
            margin-top: 20px;
        }

        .payment-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .payment-method-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .payment-method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
        }

        .payment-method-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .payment-method-card .icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .payment-method-card .name {
            font-weight: 600;
            font-size: 16px;
            color: #333;
            margin-bottom: 5px;
        }

        .payment-method-card .description {
            font-size: 12px;
            color: #666;
        }

        .pay-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .pay-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .pay-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .result-panel {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }

        .result-panel.show {
            display: block;
        }

        .result-panel.success {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        .result-panel.error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }

        .result-panel h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .result-panel pre {
            background: white;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
            margin-top: 10px;
        }

        .adapter-flow {
            background: #fff9e6;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 2px dashed #ffc107;
        }

        .adapter-flow h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 10px 0;
            font-size: 14px;
        }

        .flow-step .arrow {
            margin: 0 10px;
            color: #667eea;
            font-size: 20px;
        }

        .flow-step .step-box {
            background: white;
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #e0e0e0;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’³ ê²°ì œ ì‹œìŠ¤í…œ</h1>
            <p class="subtitle">Adapter íŒ¨í„´ì„ í™œìš©í•œ í†µí•© ê²°ì œ ì²˜ë¦¬</p>
            <div class="analogy">
                <strong>ì–´ëŒ‘í„° íŒ¨í„´ì˜ í•µì‹¬:</strong><br>
                ì•±ì€ í‘œì¤€ì–´ë¡œ "ê²°ì œí•´ì¤˜" í•œ ë²ˆë§Œ ì™¸ì¹˜ë©´ ë©ë‹ˆë‹¤. ê° ê²°ì œ ìˆ˜ë‹¨ë³„ ì–´ëŒ‘í„°ê°€ ì•Œì•„ì„œ í•´ë‹¹ ê²°ì œ ìˆ˜ë‹¨ì˜ "ì‚¬íˆ¬ë¦¬"ë¡œ ë²ˆì—­í•´ì„œ ì „ë‹¬í•©ë‹ˆë‹¤. 
                ìƒˆë¡œìš´ ê²°ì œ ìˆ˜ë‹¨ì´ ì¶”ê°€ë˜ì–´ë„ ì•± ì½”ë“œëŠ” í•œ ê¸€ìë„ ë°”ê¿€ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
        </div>

        <div class="content-grid">
            <div class="sidebar">
                <h2 class="panel-title">ğŸ“š Adapter íŒ¨í„´ ì„¤ëª…</h2>
                
                <div class="info-box">
                    <h3>íŒ¨í„´ ê°œìš”</h3>
                    <p>Adapter íŒ¨í„´ì€ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ í´ë˜ìŠ¤ë“¤ì„ í•¨ê»˜ ì‘ë™í•˜ë„ë¡ ë§Œë“œëŠ” êµ¬ì¡° íŒ¨í„´ì…ë‹ˆë‹¤. 
                    ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>

                <div class="info-box">
                    <h3>í•µì‹¬ êµ¬ì„±ìš”ì†Œ</h3>
                    <p>â€¢ <strong>Target (í‘œì¤€ ì¸í„°í˜ì´ìŠ¤):</strong> í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤<br>
                    â€¢ <strong>Adaptee (ê¸°ì¡´ í´ë˜ìŠ¤):</strong> ë³€í™˜ì´ í•„ìš”í•œ ê¸°ì¡´ í´ë˜ìŠ¤<br>
                    â€¢ <strong>Adapter (ì–´ëŒ‘í„°):</strong> Targetê³¼ Adapteeë¥¼ ì—°ê²°í•˜ëŠ” í†µì—­ì‚¬</p>
                </div>

                <div class="info-box">
                    <h3>ì ìš© ì‚¬ë¡€</h3>
                    <p>â€¢ ê²°ì œ ì‹œìŠ¤í…œ í†µí•©<br>
                    â€¢ ë ˆê±°ì‹œ ì½”ë“œ í†µí•©<br>
                    â€¢ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜í•‘<br>
                    â€¢ <strong>ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ í†µí•©</strong> â† í˜„ì¬ ì˜ˆì œ</p>
                </div>

                <div class="code-block">
// í‘œì¤€ ê²°ì œ ì¸í„°í˜ì´ìŠ¤ (Target)
class PaymentTarget {
    pay(amount) {
        throw new Error('pay() must be implemented');
    }
}

// ì¹´ì¹´ì˜¤í˜ì´ ì–´ëŒ‘í„°
class KakaoPayAdapter extends PaymentTarget {
    constructor() {
        super();
        this.kakaoPay = new KakaoPay(); // Adaptee
    }
    
    pay(amount) {
        // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜
        return this.kakaoPay.sendPayment({
            ê¸ˆì•¡: amount,
            ê²°ì œë°©ì‹: 'ì¹´ì¹´ì˜¤í˜ì´'
        });
    }
}
                </div>
            </div>

            <div class="main-content">
                <h2 class="panel-title">ğŸ’» ê²°ì œ ì‹œìŠ¤í…œ ë°ëª¨</h2>
                
                <div class="payment-section">
                    <div class="payment-form">
                        <div class="form-group">
                            <label>ê²°ì œ ê¸ˆì•¡</label>
                            <input type="number" id="amount" placeholder="ê²°ì œí•  ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”" value="10000" min="1000" step="1000">
                        </div>

                        <h3 style="margin: 20px 0 15px 0; font-size: 16px;">ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ</h3>
                        <div class="payment-methods" id="paymentMethods"></div>

                        <button class="pay-button" id="payButton" disabled>ê²°ì œí•˜ê¸°</button>
                    </div>

                    <div class="result-panel" id="resultPanel">
                        <h3 id="resultTitle"></h3>
                        <pre id="resultContent"></pre>
                    </div>

                    <div class="adapter-flow" id="adapterFlow" style="display: none;">
                        <h3>ğŸ”„ ì–´ëŒ‘í„° ì²˜ë¦¬ íë¦„</h3>
                        <div id="flowSteps"></div>
                    </div>

                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value" id="totalPayments">0</div>
                            <div class="stat-label">ì´ ê²°ì œ íšŸìˆ˜</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="successPayments">0</div>
                            <div class="stat-label">ì„±ê³µí•œ ê²°ì œ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="availableAdapters">0</div>
                            <div class="stat-label">ì‚¬ìš© ê°€ëŠ¥í•œ ì–´ëŒ‘í„°</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // Adapter íŒ¨í„´ êµ¬í˜„
        // ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ì„ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ í†µí•©
        // ============================================

        // ========== Target: í‘œì¤€ ê²°ì œ ì¸í„°í˜ì´ìŠ¤ ==========
        class PaymentTarget {
            pay(amount) {
                throw new Error('pay() must be implemented');
            }
            
            getName() {
                throw new Error('getName() must be implemented');
            }
        }

        // ========== Adaptee: ê° ê²°ì œ ìˆ˜ë‹¨ì˜ ì‹¤ì œ êµ¬í˜„ ==========
        
        // ì¹´ì¹´ì˜¤í˜ì´ (ê¸°ì¡´ í´ë˜ìŠ¤ - ìˆ˜ì • ë¶ˆê°€)
        class KakaoPay {
            constructor() {
                this.apiKey = 'kakao-api-key-12345';
            }
            
            // ì¹´ì¹´ì˜¤í˜ì´ë§Œì˜ ê³ ìœ í•œ ë©”ì„œë“œ
            sendPayment(paymentData) {
                return {
                    success: true,
                    provider: 'KakaoPay',
                    message: `ì¹´ì¹´ì˜¤í˜ì´ë¡œ ${paymentData.ê¸ˆì•¡}ì› ê²°ì œ ì™„ë£Œ`,
                    transactionId: `KAKAO-${Date.now()}`,
                    originalData: paymentData
                };
            }
        }

        // ë„¤ì´ë²„í˜ì´ (ê¸°ì¡´ í´ë˜ìŠ¤ - ìˆ˜ì • ë¶ˆê°€)
        class NaverPay {
            constructor() {
                this.clientId = 'naver-client-id-67890';
            }
            
            // ë„¤ì´ë²„í˜ì´ë§Œì˜ ê³ ìœ í•œ ë©”ì„œë“œ
            processPayment(paymentInfo) {
                return {
                    success: true,
                    provider: 'NaverPay',
                    message: `ë„¤ì´ë²„í˜ì´ë¡œ ${paymentInfo.amount}ì› ê²°ì œ ì„±ê³µ`,
                    transactionId: `NAVER-${Date.now()}`,
                    originalData: paymentInfo
                };
            }
        }

        // ì• í”Œí˜ì´ (ê¸°ì¡´ í´ë˜ìŠ¤ - ìˆ˜ì • ë¶ˆê°€)
        class ApplePay {
            constructor() {
                this.merchantId = 'apple-merchant-abcde';
            }
            
            // ì• í”Œí˜ì´ë§Œì˜ ê³ ìœ í•œ ë©”ì„œë“œ
            authorizePayment(paymentRequest) {
                return {
                    success: true,
                    provider: 'ApplePay',
                    message: `Apple Payë¡œ $${paymentRequest.amount} ê²°ì œ ìŠ¹ì¸ë¨`,
                    transactionId: `APPLE-${Date.now()}`,
                    originalData: paymentRequest
                };
            }
        }

        // í† ìŠ¤í˜ì´ (ê¸°ì¡´ í´ë˜ìŠ¤ - ìˆ˜ì • ë¶ˆê°€)
        class TossPay {
            constructor() {
                this.apiSecret = 'toss-secret-xyz';
            }
            
            // í† ìŠ¤í˜ì´ë§Œì˜ ê³ ìœ í•œ ë©”ì„œë“œ
            executePayment(payData) {
                return {
                    success: true,
                    provider: 'TossPay',
                    message: `í† ìŠ¤í˜ì´ë¡œ ${payData.value}ì› ê²°ì œ ì²˜ë¦¬ë¨`,
                    transactionId: `TOSS-${Date.now()}`,
                    originalData: payData
                };
            }
        }

        // ì¹´ë“œì‚¬ PG (ê¸°ì¡´ í´ë˜ìŠ¤ - ìˆ˜ì • ë¶ˆê°€)
        class CardPG {
            constructor() {
                this.pgId = 'card-pg-123';
            }
            
            // ì¹´ë“œì‚¬ PGë§Œì˜ ê³ ìœ í•œ ë©”ì„œë“œ
            chargeCard(chargeInfo) {
                return {
                    success: true,
                    provider: 'CardPG',
                    message: `ì‹ ìš©ì¹´ë“œë¡œ ${chargeInfo.price}ì› ê²°ì œ ìŠ¹ì¸`,
                    transactionId: `CARD-${Date.now()}`,
                    originalData: chargeInfo
                };
            }
        }

        // ========== Adapter: ê° ê²°ì œ ìˆ˜ë‹¨ì„ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜ ==========
        
        class KakaoPayAdapter extends PaymentTarget {
            constructor() {
                super();
                this.kakaoPay = new KakaoPay();
            }
            
            pay(amount) {
                // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜: "ê²°ì œí•´ì¤˜" â†’ ì¹´ì¹´ì˜¤í˜ì´ ì‚¬íˆ¬ë¦¬ë¡œ ë²ˆì—­
                return this.kakaoPay.sendPayment({
                    ê¸ˆì•¡: amount,
                    ê²°ì œë°©ì‹: 'ì¹´ì¹´ì˜¤í˜ì´',
                    íƒ€ì„ìŠ¤íƒ¬í”„: new Date().toISOString()
                });
            }
            
            getName() {
                return 'ì¹´ì¹´ì˜¤í˜ì´';
            }
        }

        class NaverPayAdapter extends PaymentTarget {
            constructor() {
                super();
                this.naverPay = new NaverPay();
            }
            
            pay(amount) {
                // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜: "ê²°ì œí•´ì¤˜" â†’ ë„¤ì´ë²„í˜ì´ ì‚¬íˆ¬ë¦¬ë¡œ ë²ˆì—­
                return this.naverPay.processPayment({
                    amount: amount,
                    method: 'naver_pay',
                    timestamp: Date.now()
                });
            }
            
            getName() {
                return 'ë„¤ì´ë²„í˜ì´';
            }
        }

        class ApplePayAdapter extends PaymentTarget {
            constructor() {
                super();
                this.applePay = new ApplePay();
            }
            
            pay(amount) {
                // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜: "ê²°ì œí•´ì¤˜" â†’ ì• í”Œí˜ì´ ì‚¬íˆ¬ë¦¬ë¡œ ë²ˆì—­
                return this.applePay.authorizePayment({
                    amount: amount,
                    currency: 'KRW',
                    merchantId: this.applePay.merchantId
                });
            }
            
            getName() {
                return 'ì• í”Œí˜ì´';
            }
        }

        class TossPayAdapter extends PaymentTarget {
            constructor() {
                super();
                this.tossPay = new TossPay();
            }
            
            pay(amount) {
                // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜: "ê²°ì œí•´ì¤˜" â†’ í† ìŠ¤í˜ì´ ì‚¬íˆ¬ë¦¬ë¡œ ë²ˆì—­
                return this.tossPay.executePayment({
                    value: amount,
                    paymentMethod: 'toss',
                    timestamp: new Date()
                });
            }
            
            getName() {
                return 'í† ìŠ¤í˜ì´';
            }
        }

        class CardPGAdapter extends PaymentTarget {
            constructor() {
                super();
                this.cardPG = new CardPG();
            }
            
            pay(amount) {
                // í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜: "ê²°ì œí•´ì¤˜" â†’ ì¹´ë“œì‚¬ PG ì‚¬íˆ¬ë¦¬ë¡œ ë²ˆì—­
                return this.cardPG.chargeCard({
                    price: amount,
                    paymentType: 'credit_card',
                    pgId: this.cardPG.pgId
                });
            }
            
            getName() {
                return 'ì‹ ìš©ì¹´ë“œ';
            }
        }

        // ========== í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ: í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš© ==========
        
        class PaymentApp {
            constructor() {
                // ëª¨ë“  ê²°ì œ ìˆ˜ë‹¨ì„ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ í†µí•©
                this.paymentAdapters = [
                    new KakaoPayAdapter(),
                    new NaverPayAdapter(),
                    new ApplePayAdapter(),
                    new TossPayAdapter(),
                    new CardPGAdapter()
                ];
                
                this.selectedAdapter = null;
                this.totalPayments = 0;
                this.successPayments = 0;
                
                this.init();
            }
            
            init() {
                this.renderPaymentMethods();
                this.setupEventListeners();
                this.updateStats();
            }
            
            renderPaymentMethods() {
                const container = document.getElementById('paymentMethods');
                container.innerHTML = '';
                
                const methodConfigs = [
                    { adapter: this.paymentAdapters[0], icon: 'ğŸ’›', color: '#FEE500' },
                    { adapter: this.paymentAdapters[1], icon: 'ğŸ’š', color: '#03C75A' },
                    { adapter: this.paymentAdapters[2], icon: 'ğŸ', color: '#000000' },
                    { adapter: this.paymentAdapters[3], icon: 'ğŸ’™', color: '#0064FF' },
                    { adapter: this.paymentAdapters[4], icon: 'ğŸ’³', color: '#667eea' }
                ];
                
                methodConfigs.forEach((config, index) => {
                    const card = document.createElement('div');
                    card.className = 'payment-method-card';
                    card.style.borderColor = config.color;
                    card.innerHTML = `
                        <div class="icon">${config.icon}</div>
                        <div class="name">${config.adapter.getName()}</div>
                        <div class="description">í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¡œ í†µí•©ë¨</div>
                    `;
                    
                    card.addEventListener('click', () => {
                        document.querySelectorAll('.payment-method-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                        this.selectedAdapter = config.adapter;
                        document.getElementById('payButton').disabled = false;
                    });
                    
                    container.appendChild(card);
                });
            }
            
            setupEventListeners() {
                document.getElementById('payButton').addEventListener('click', () => {
                    this.processPayment();
                });
            }
            
            processPayment() {
                if (!this.selectedAdapter) {
                    alert('ê²°ì œ ìˆ˜ë‹¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                const amount = parseInt(document.getElementById('amount').value);
                if (!amount || amount < 1000) {
                    alert('ìµœì†Œ ê²°ì œ ê¸ˆì•¡ì€ 1,000ì›ì…ë‹ˆë‹¤.');
                    return;
                }
                
                // í´ë¼ì´ì–¸íŠ¸ëŠ” í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš©: "ê²°ì œí•´ì¤˜"
                // ê° ì–´ëŒ‘í„°ê°€ ì•Œì•„ì„œ í•´ë‹¹ ê²°ì œ ìˆ˜ë‹¨ì˜ "ì‚¬íˆ¬ë¦¬"ë¡œ ë²ˆì—­
                this.showAdapterFlow(this.selectedAdapter, amount);
                
                setTimeout(() => {
                    const result = this.selectedAdapter.pay(amount);
                    this.totalPayments++;
                    
                    if (result.success) {
                        this.successPayments++;
                    }
                    
                    this.showResult(result, amount);
                    this.updateStats();
                }, 1500);
            }
            
            showAdapterFlow(adapter, amount) {
                const flowPanel = document.getElementById('adapterFlow');
                const flowSteps = document.getElementById('flowSteps');
                flowPanel.style.display = 'block';
                
                const adapterName = adapter.getName();
                const adapteeName = adapter.constructor.name.replace('Adapter', '');
                
                flowSteps.innerHTML = `
                    <div class="flow-step">
                        <div class="step-box">ì•±: "ê²°ì œí•´ì¤˜" (${amount}ì›)</div>
                        <span class="arrow">â†’</span>
                        <div class="step-box">${adapterName} ì–´ëŒ‘í„°</div>
                        <span class="arrow">â†’</span>
                        <div class="step-box">${adapteeName} ì‹¤ì œ ê²°ì œ ì²˜ë¦¬</div>
                    </div>
                `;
            }
            
            showResult(result, amount) {
                const resultPanel = document.getElementById('resultPanel');
                const resultTitle = document.getElementById('resultTitle');
                const resultContent = document.getElementById('resultContent');
                
                resultPanel.classList.remove('success', 'error');
                resultPanel.classList.add(result.success ? 'success' : 'error');
                resultPanel.classList.add('show');
                
                resultTitle.textContent = result.success ? 'âœ… ê²°ì œ ì„±ê³µ' : 'âŒ ê²°ì œ ì‹¤íŒ¨';
                resultContent.textContent = JSON.stringify({
                    ë©”ì‹œì§€: result.message,
                    ê±°ë˜ID: result.transactionId,
                    ê²°ì œìˆ˜ë‹¨: result.provider,
                    ê¸ˆì•¡: amount.toLocaleString() + 'ì›',
                    ì›ë³¸ë°ì´í„°: result.originalData
                }, null, 2);
            }
            
            updateStats() {
                document.getElementById('totalPayments').textContent = this.totalPayments;
                document.getElementById('successPayments').textContent = this.successPayments;
                document.getElementById('availableAdapters').textContent = this.paymentAdapters.length;
            }
        }

        // ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            const paymentApp = new PaymentApp();
            
            // ì½˜ì†”ì— íŒ¨í„´ ì„¤ëª… ì¶œë ¥
            console.log('=== Adapter íŒ¨í„´ êµ¬ì¡° ===');
            console.log('Target (í‘œì¤€ ì¸í„°í˜ì´ìŠ¤): PaymentTarget');
            console.log('Adapters (í†µì—­ì‚¬ë“¤):');
            paymentApp.paymentAdapters.forEach(adapter => {
                console.log(`  - ${adapter.constructor.name}: ${adapter.getName()}`);
            });
            console.log('\nì•±ì€ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤(pay)ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.');
            console.log('ê° ì–´ëŒ‘í„°ê°€ ì•Œì•„ì„œ í•´ë‹¹ ê²°ì œ ìˆ˜ë‹¨ì˜ ê³ ìœ  ë©”ì„œë“œë¡œ ë³€í™˜í•©ë‹ˆë‹¤.');
        });
    </script>
</body>
</html>
